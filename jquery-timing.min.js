(function(e,l){var B="__timeouts",F="__intervals",I=undefined,j=true,s="fx",D={};function a(J){return typeof J=="function"}function r(J){return typeof J=="string"}function i(L,K){L=L||[];for(var J=0;J<L.length;J++){if(L[J]===K){if(J<L.length-1){L[J]=L.pop();J--}else{L.pop()}}}return L}function A(K,J){K=K||[];K.push(J);return K}function k(L,Q,N){var M={f:j,n:{}},J={k:M,d:L,j:Q,i:N},P={b:J,l:[],m:l.setTimeout(function(){P.m=I;o(P,M)},0)},O={},K;for(K in L){if(a(L[K])){(function(R){O[R]=function(){J=J.k={k:M,d:M.d,j:R,i:arguments};if(P.b.f){P.b=J;o(P)}return O}})(K)}}o(P);return O}function o(M,O){if(O){O.n.h=j;if(M.b!=O){return}}for(var L,K,N,J;L=M.b;){if(L.f){if(M.l[0]&&!M.m){M.b=M.l[0];M.b.e++;continue}break}J=L.n;if(J){if(J.h&&!J.g){z(M)}else{break}}K=L.d;N=K[L.j];if(N==y){(J&&J.h?g:n)(M,L)}else{if(N==t){(J&&J.h?w:C)(M,L)}else{if(N==E){L.c=L.i[0];z(M)}else{if(N==m){(J&&J.h?H:u)(M,L)}else{if(N==c&&M.l[0]){if(d(M,L)){z(M);v(M)}else{M.b=M.l[0];M.b.e++;continue}}else{K=N.apply(K,L.i);z(M)}}}}}M.b.d=K}}function z(K,J){J=K.b;if(a(J.c)){x(K,J.d,J.c)}K.b=J.k}function x(L,K,M,J){J=[];e.each(L.l,function(){J.push(this.e)});return M.apply(K,J)}function n(M,L,K){function J(){o(M,L)}if(a(L.i[0])){L.c=L.i[0]}else{K=L.i[0];L.c=L.i[1]}L.n=r(K)?{o:"event",a:J,d:L.d.bind(K,J),p:K}:{o:"timer",a:J,p:l.setTimeout(J,Math.max(0,K))};L.d.each(function(N,O){e(O).data(B,A(e(O).data(B),L.n))})}function q(J){if(J.o=="event"){J.d.unbind(J.p,J.a)}else{l.clearTimeout(J.p)}J.g=j}function g(K,J){q(J.n);J.d.each(function(L,M){e(M).data(B,i(e(M).data(B),J.n))});J.n=I}function C(L,K,J){if(a(K.i[0])){K.c=K.i[0]}else{J=K.i[0];K.c=K.i[1]}K.n={};K.d.queue(J==I?s:J,function(M){o(L,K);M()})}function w(K,J){J.n=I}function u(N,L,K,M){function J(){o(N,L)}if(a(L.i[0])){L.c=L.i[0]}else{if(a(L.i[1])){K=L.i[0];L.c=L.i[1]}else{K=L.i[0];M=L.i[1];L.c=L.i[2]}}L.n=K==I?{h:j}:r(K)?{o:"event",a:J,d:L.d.bind(K,J),p:K,h:M}:{o:"timer",a:J,p:l.setInterval(J,Math.max(0,K)),h:M};L.d.each(function(O,P){e(P).data(F,A(e(P).data(F),L.n))});L.e=0;N.l.unshift(L)}function H(K,J){J.n.h=!J.n.o}function b(J){if(J.o=="event"){J.d.unbind(J.p,J.a)}if(J.o=="timer"){l.clearInterval(J.p)}J.g=j}function v(K,J){J=K.l.shift();b(J.n);J.d.each(function(L,M){e(M).data(F,i(e(M).data(F),J.n))});J.n=I}function d(K,J,L){L=J.i[0];if(L==I){L=!J.d.size()}if(a(L)){L=x(K,J.d,L)}if(typeof L=="object"){L=L.toString()}return typeof L=="number"?K.l[0].e>=L-1:L}function y(){return k(this,"wait",arguments)}function G(){return this.each(function(J){J=e(this).data(B);while(J&&J.length){q(J.pop())}})}function m(){return k(this,"repeat",arguments)}function f(){return this.each(function(J){J=e(this).data(F);while(J&&J.length){b(J.pop())}})}function c(){throw".until() method must be used after .repeat() only"}function E(J){J.apply(this);return this}function t(){return k(this,"join",arguments)}function h(J,L,K){if(r(J)){Array.prototype.shift.apply(K)}else{J=""}return L.apply(D[J]=(D[J]||e("<div>").text(J)),K)}e.fn.extend({wait:y,unwait:G,repeat:m,unrepeat:f,until:c,then:E,join:t,$:e});e.extend({wait:function(J){return h(J,y,arguments)},unwait:function(J){return h(J,G,arguments)},repeat:function(J){return h(J,m,arguments)},unrepeat:function(J){return h(J,f,arguments)},then:function(J){return h(J,E,arguments)},join:function(J){return h(J,t,arguments)}});function p(M,K){if(r(M)){M=new Function("x","return "+M)}var J=a(K),N=a(M),L=function(O){if(arguments.length){L.value=O;if(J){K(O)}}return L.toString()};L.toString=function(){var O=J?K():L.value;return N?M(O):O};L.$={toString:L.toString};L.mod=function(O){return p(function(P){return P%O},L)};L.plus=function(O){return p(function(P){return P+O},L)};L.neg=function(){return p(function(O){return -O},L)};return L}l.$$=p})(jQuery,window);