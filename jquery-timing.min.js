(function(y,D){var J="__timeouts",A="__intervals",z=undefined,v=true,C="fx",o={},f=Array.prototype;function k(K){return typeof K=="function"}function h(K){return typeof K=="string"}function u(M,L){M=M||[];for(var K=0;K<M.length;K++){if(M[K]===L){if(K<M.length-1){M[K]=M.pop();K--}else{M.pop()}}}return M}function E(L,K){L=L||[];L.push(K);return L}function H(N,Q,P){var O={f:v,o:{}},K={k:O,d:N,j:Q,i:P},L={b:K,l:[],m:D.setTimeout(function(){L.m=z;F(L,O)},0),n:{}},M;for(M in N){if(k(N[M])){(function(R){L.n[R]=function(){K=K.k={k:O,d:O.d,j:R,i:arguments};return L.b.f&&(L.b=K)&&F(L)||L.n}})(M)}}return F(L)||L.n}function F(L,P){if(P){if(!P.o){return}P.o.h=v;if(L.b!=P){return}}for(var N,M,O,K;N=L.b;){M=N.d;L.n.length=0;f.push.apply(L.n,M);if(N.f){if(!L.l[0]){return M}if(!L.m){L.b=L.l[0];L.b.e++;continue}break}O=M[N.j];K=N.o;if(K){if(K.h&&!K.g){l(L)}else{break}}if(O==c){(K&&K.h?d:B)(L,N)}else{if(O==g){(K&&K.h?I:s)(L,N)}else{if(O==r){N.c=N.i[0];l(L)}else{if(O==x){(K&&K.h?b:p)(L,N)}else{if(O==i&&L.l[0]){if(j(L,N)){l(L);e(L)}else{L.b=L.l[0];L.b.e++;continue}}else{M=O.apply(M,N.i);l(L)}}}}}L.b.d=M}}function l(K,L){L=K.b;if(k(L.c)){t(K,L.d,L.c)}K.b=L.k}function t(K,M,N,L){L=[];y.each(K.l,function(){L.push(this.e)});return N.apply(M,L)}function B(M,N,L){function K(){F(M,N)}if(k(N.i[0])){N.c=N.i[0]}else{L=N.i[0];N.c=N.i[1]}N.o=h(L)?{p:1,a:K,d:N.d.bind(L,K),q:L}:{p:3,a:K,q:D.setTimeout(K,Math.max(0,L))};N.d.each(function(O,P){y(P).data(J,E(y(P).data(J),N.o))})}function w(K){if(K.p==1){K.d.unbind(K.q,K.a)}if(K.p==3){D.clearTimeout(K.q)}K.g=v}function d(K,L){w(L.o);L.d.each(function(M,N){y(N).data(J,u(y(N).data(J),L.o))});L.o=z}function s(K,M,L,N){if(k(M.i[0])){M.c=M.i[0]}else{L=M.i[0];M.c=M.i[1]}N=f.slice.call(M.d);M.d.queue(L==z?C:L,function(O){if(N.length&&!u(N,this).length){F(K,M)}O()});M.o={h:!N.length}}function I(K,L){L.o=z}function p(M,N,L,O){function K(){F(M,N)}if(k(N.i[0])){N.c=N.i[0]}else{if(k(N.i[1])){L=N.i[0];N.c=N.i[1]}else{L=N.i[0];O=N.i[1];N.c=N.i[2]}}N.o=L==z?{h:v}:h(L)?{p:1,a:K,d:N.d.bind(L,K),q:L,h:O}:{p:2,a:K,q:D.setInterval(K,Math.max(0,L)),h:O};N.d.each(function(P,Q){y(Q).data(A,E(y(Q).data(A),N.o))});N.e=0;M.l.unshift(N)}function b(K,L){L.o.h=!L.o.p}function q(K){if(K.p==1){K.d.unbind(K.q,K.a)}if(K.p==2){D.clearInterval(K.q)}K.g=v}function e(K,L){L=K.l.shift();q(L.o);L.d.each(function(M,N){y(N).data(A,u(y(N).data(A),L.o))});L.o=z}function j(K,L,M){M=L.i[0];if(M==z){M=!L.d.size()}if(k(M)){M=t(K,L.d,M)}if(typeof M=="object"){M=M.toString()}return typeof M=="number"?K.l[0].e>=M-1:M}function c(){return H(this,"wait",arguments)}function n(){return this.each(function(K){K=y(this).data(J);while(K&&K.length){w(K.pop())}})}function x(){return H(this,"repeat",arguments)}function a(){return this.each(function(K){K=y(this).data(A);while(K&&K.length){q(K.pop())}})}function i(){throw".until() method must be used after .repeat() only"}function r(K){K.apply(this);return this}function g(){return H(this,"join",arguments)}function m(K,M,L){if(h(K)){f.shift.apply(L)}else{K=""}return M.apply(o[K]=(o[K]||y("<div>").text(K)),L)}function G(N,Q,M){if(h(N)){M=new Function("x","return ["+N+"\n,x]");N=function(S,R){R=M(S);L.x=R[1];return R[0]}}var K=k(Q),P=k(N),L=function(R){if(arguments.length==1){L.x=R;if(K){Q(R)}}else{return L.$()}};function O(R){R=K?Q():L.x;return P?N(R):R}O.toString=O;y.extend(L,{x:0,$:O,toString:O,_:{toString:L.$},mod:function(R){return G(function(S){return S%R},L)},add:function(R){return G(function(S){return S+R},L)},neg:function(){return G("-x",L)},$$:function(R){return G(R,L)}});y.each("abcdefghij",function(R,S){L[R]=L[S]=function(){L(arguments[R])}});return L}D.$$=G;y.fn.extend({wait:c,unwait:n,repeat:x,unrepeat:a,until:i,then:r,join:g,$:y});y.extend({wait:function(K){return m(K,c,arguments)},unwait:function(K){return m(K,n,arguments)},repeat:function(K){return m(K,x,arguments)},unrepeat:function(K){return m(K,a,arguments)},then:function(K){return m(K,r,arguments)},join:function(K){return m(K,g,arguments)},$$:G})})(jQuery,window);