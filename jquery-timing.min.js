(function(k,g){var r={};function f(z,D,B){var A={f:true,d:z},w={},C={},x={b:A,l:[],m:g.setTimeout(function(){x.m=undefined;if(x.b.f){e(x)}},0),n:C},y;for(y in z){if(typeof z[y]=="function"){(function(E){C[E]=function(){w=w.k={k:A,d:A.d,j:E,i:arguments};return x.b.f&&(x.b=w)&&e(x)||C}})(y)}}C._=z._=z;return C[D].apply(z,B)}function e(x,B){if(B){if(!B.q||x.b!=B){return}}for(var z,y,A,w;z=x.b;){w=z.q&&z.o;y=w||z.d;x.n.length=0;Array.prototype.push.apply(x.n,y.get());if(z.f){if(!x.l[0]){return y}if(!x.m){v(x,x.b=x.l[0]);continue}return}if(z.q){if(w){p(x)}else{return}}A=y[z.j];if(A==q){if(!w){i(x,z)}}else{if(A==l){if(!w){s(x,z)}}else{if(A==h){if(!w){m(x,z)}}else{if(A==a&&x.l[0]){if(b(x,z)){p(x);o(x)}else{v(x,x.b=x.l[0]);continue}}else{if(A==t){z.c=z.i[0];p(x)}else{y=A.apply(y,z.i);p(x)}}}}}x.b.d=y}}function p(w){w.b.q=w.b.o=undefined;if(typeof w.b.c=="function"){n(w,w.b.d,w.b.c)}w.b=w.b.k}function n(w,x,y){return y.apply(x,k(w.l).map(function(){return this.e}).get())}function i(y,B,x){if(typeof B.i[0]=="function"){B.c=B.i[0]}else{x=B.i[0];B.c=B.i[1]}var w,z,A;if(typeof x=="string"){w=function(){k(this).unbind("__unwait__",z).unbind(x,w);B.o=B.o&&B.o.add(this)||k(this);e(y,B)};z=function(){k(this).unbind("__unwait__",z).unbind(x,w);B.o=B.o&&B.o.not(this)};B.d.bind(x,w).bind("__unwait__",z)}else{w=function(){B.d.unbind("__unwait__",z);B.o=B.d;e(y,B)};z=function(){k(this).unbind("__unwait__",z);B.d=B.d.not(this);if(!B.d.length){g.clearTimeout(A)}};A=g.setTimeout(w,Math.max(0,x));B.d.bind("__unwait__",z)}B.q=true}function s(w,y,x){if(typeof y.i[0]=="function"){y.c=y.i[0]}else{x=y.i[0];y.c=y.i[1]}var z=k(y.d);y.d.queue(x==undefined?"fx":x,function(A){if(z.length&&!(z=z.not(this)).length){y.o=y.d;e(w,y)}A()});y.q=true}function m(y,z,x,A){if(typeof z.i[0]=="function"){z.c=z.i[0]}else{if(typeof z.i[1]=="function"){x=z.i[0];z.c=z.i[1]}else{x=z.i[0];A=z.i[1];z.c=z.i[2]}}if(x==undefined){z.a=function(){k(this).unbind("__unrepeat__",z.a);z.d=z.d.not(this);if(!z.d.length){z.r=undefined}};z.r=A=true;z.d.bind("__unrepeat__",z.a)}else{if(typeof x=="string"){var w=function(){z.o=z.o&&z.o.add(this)||k(this);e(y,z)};z.a=function(){k(this).unbind("__unrepeat__",z.a).unbind(x,w);z.o=z.o&&z.o.not(this)};z.d.bind(x,w).bind("__unrepeat__",z.a)}else{z.a=function(){k(this).unbind("__unrepeat__",z.a);z.d=z.d.not(this);if(!z.d.length){g.clearInterval(z.h)}};z.h=g.setInterval(function(){z.o=z.d;e(y,z)},Math.max(0,x));z.d.bind("__unrepeat__",z.a)}}if(A){z.o=z.d}z.e=0;z.q=true;y.l.unshift(z)}function v(w,x){x.e++;x.q=true;if(x.r){x.o=x.d}}function o(w){var x=w.l.shift();x.d.unbind("__unrepeat__",x.a);if(x.h){g.clearInterval(x.h)}}function b(w,x,y){y=x.i[0];if(y==undefined){y=!x.d.size()}if(typeof y=="function"){y=n(w,x.d,y)}if(typeof y=="object"){y=y.toString()}return typeof y=="number"?w.l[0].e>=y-1:y}function q(){return f(this,"wait",arguments)}function u(){return this.trigger("__unwait__")}function h(){return f(this,"repeat",arguments)}function c(w){return this.trigger("__unrepeat__")}function a(){throw".until() method must be used after .repeat() only"}function t(w){w.apply(this);return this}function l(){return f(this,"join",arguments)}function d(w,y,x){if(typeof w=="string"){ARRAY.shift.apply(x)}else{w=""}return y.apply(r[w]=(r[w]||k("<div>").text(w)),x)}function j(z,C,y){if(typeof z=="string"){y=new Function("x","return ["+z+"\n,x]");z=function(E,D){D=y(E);x.x=D[1];return D[0]}}var w=typeof C=="function",B=typeof z=="function",x=function(D){if(arguments.length==1){x.x=D;if(w){C(D)}}else{return x.$()}};function A(D){D=w?C():x.x;return B?z(D):D}A.toString=A;k.extend(x,{x:0,$:A,toString:A,_:{toString:x.$},mod:function(D){return j(function(E){return E%D},x)},add:function(D){return j(function(E){return E+D},x)},neg:function(){return j("-x",x)},$$:function(D){return j(D,x)}});k.each("abcdefghij",function(D,E){x[D]=x[E]=function(){x(arguments[D])}});return x}g.$$=j;k.fn.extend({wait:q,unwait:u,repeat:h,unrepeat:c,until:a,then:t,join:l,$:k});k.extend({wait:function(w){return d(w,q,arguments)},unwait:function(w){return d(w,u,arguments)},repeat:function(w){return d(w,h,arguments)},unrepeat:function(w){return d(w,c,arguments)},then:function(w){return d(w,t,arguments)},join:function(w){return d(w,l,arguments)},$$:j})})(jQuery,window);