(function(x,D){var J="__timeouts",z="__intervals",y=undefined,u=true,C="fx",n={};function j(K){return typeof K=="function"}function g(K){return typeof K=="string"}function t(M,L){M=M||[];for(var K=0;K<M.length;K++){if(M[K]===L){if(K<M.length-1){M[K]=M.pop();K--}else{M.pop()}}}return M}function E(L,K){L=L||[];L.push(K);return L}function H(N,R,P){var O={f:u,n:{}},K={k:O,d:N,j:R,i:P},L={b:K,l:[],m:D.setTimeout(function(){L.m=y;F(L,O)},0)},Q={},M;for(M in N){if(j(N[M])){(function(S){Q[S]=function(){K=K.k={k:O,d:O.d,j:S,i:arguments};if(L.b.f){L.b=K;F(L)}return Q}})(M)}}F(L);return Q}function F(L,P){if(P){if(P.n){P.n.h=u;if(L.b!=P){return}}else{return P.n={h:u}}}for(var N,M,O,K;N=L.b;){if(N.f){if(L.l[0]&&!L.m){L.b=L.l[0];L.b.e++;continue}break}K=N.n;if(K){if(K.h&&!K.g){k(L)}else{break}}M=N.d;O=M[N.j];if(O==c){(K&&K.h?d:A)(L,N)}else{if(O==f){(K&&K.h?I:r)(L,N)}else{if(O==q){N.c=N.i[0];k(L)}else{if(O==w){(K&&K.h?b:o)(L,N)}else{if(O==h&&L.l[0]){if(i(L,N)){k(L);e(L)}else{L.b=L.l[0];L.b.e++;continue}}else{M=O.apply(M,N.i);k(L)}}}}}L.b.d=M}}function k(K,L){L=K.b;if(j(L.c)){s(K,L.d,L.c)}K.b=L.k}function s(K,M,N,L){L=[];x.each(K.l,function(){L.push(this.e)});return N.apply(M,L)}function A(M,N,L){function K(){F(M,N)}if(j(N.i[0])){N.c=N.i[0]}else{L=N.i[0];N.c=N.i[1]}N.n=g(L)?{o:1,a:K,d:N.d.bind(L,K),x:L}:{o:3,a:K,x:D.setTimeout(K,Math.max(0,L))};N.d.each(function(O,P){x(P).data(J,E(x(P).data(J),N.n))})}function v(K){if(K.o==1){K.d.unbind(K.x,K.a)}if(K.o==3){D.clearTimeout(K.x)}K.g=u}function d(K,L){v(L.n);L.d.each(function(M,N){x(N).data(J,t(x(N).data(J),L.n))});L.n=y}function r(L,N,M,K){if(j(N.i[0])){N.c=N.i[0]}else{M=N.i[0];N.c=N.i[1]}K=N;N.d.queue(M==y?C:M,function(O){F(L,K);K={};O()});N.n=N.n||{}}function I(K,L){L.n=y}function o(M,N,L,O){function K(){F(M,N)}if(j(N.i[0])){N.c=N.i[0]}else{if(j(N.i[1])){L=N.i[0];N.c=N.i[1]}else{L=N.i[0];O=N.i[1];N.c=N.i[2]}}N.n=L==y?{h:u}:g(L)?{o:1,a:K,d:N.d.bind(L,K),x:L,h:O}:{o:2,a:K,x:D.setInterval(K,Math.max(0,L)),h:O};N.d.each(function(P,Q){x(Q).data(z,E(x(Q).data(z),N.n))});N.e=0;M.l.unshift(N)}function b(K,L){L.n.h=!L.n.o}function p(K){if(K.o==1){K.d.unbind(K.x,K.a)}if(K.o==2){D.clearInterval(K.x)}K.g=u}function e(K,L){L=K.l.shift();p(L.n);L.d.each(function(M,N){x(N).data(z,t(x(N).data(z),L.n))});L.n=y}function i(K,L,M){M=L.i[0];if(M==y){M=!L.d.size()}if(j(M)){M=s(K,L.d,M)}if(typeof M=="object"){M=M.toString()}return typeof M=="number"?K.l[0].e>=M-1:M}function c(){return H(this,"wait",arguments)}function m(){return this.each(function(K){K=x(this).data(J);while(K&&K.length){v(K.pop())}})}function w(){return H(this,"repeat",arguments)}function a(){return this.each(function(K){K=x(this).data(z);while(K&&K.length){p(K.pop())}})}function h(){throw".until() method must be used after .repeat() only"}function q(K){K.apply(this);return this}function f(){return H(this,"join",arguments)}function l(K,M,L){if(g(K)){Array.prototype.shift.apply(L)}else{K=""}return M.apply(n[K]=(n[K]||x("<div>").text(K)),L)}function B(){}function G(N,P,M){if(g(N)){M=new Function("x","return ["+N+"\n,x]");N=function(R,Q){Q=M(R);L.x=Q[1];return Q[0]}}var K=P instanceof B,O=j(N),L=new B();L.x=0;L.set=function(Q){if(!arguments.length){return evaluate()}L.x=Q;if(K){P.set(Q)}};L.toString=L.get=function(Q){Q=K?P.get():L.x;return O?N(Q):Q};L.$={toString:L.get};L.mod=function(Q){return G(function(R){return R%Q},L)};L.plus=function(Q){return G(function(R){return R+Q},L)};L.neg=function(){return G(function(Q){return -Q},L)};L.$$=function(Q){return G(Q,L)};x.each("abcdefghij",function(Q,R){L[Q]=L[R]=function(){L.set(arguments[Q])}});return L}D.$$=G;x.fn.extend({wait:c,unwait:m,repeat:w,unrepeat:a,until:h,then:q,join:f,$:x});x.extend({wait:function(K){return l(K,c,arguments)},unwait:function(K){return l(K,m,arguments)},repeat:function(K){return l(K,w,arguments)},unrepeat:function(K){return l(K,a,arguments)},then:function(K){return l(K,q,arguments)},join:function(K){return l(K,f,arguments)},$$:G})})(jQuery,window);