(function(n,j){var c={},d=1,e=n.fn.each,k=n.fn.on||n.fn.bind,o=n.fn.off||n.fn.unbind,i=n.fn.animate,l={};function a(q,r){r=n(r);r.prevObject=q;if(q.length!==r.length){return r}for(var p=0;p<q.length;p++){if(q[p]!==r[p]){return r}}return q}function b(p){var q=[];for(var r=0;r<p.length;r++){q[r]=p[r].d}return q}function f(q,x,u,t){u=u||[];var v={c:q,f:x},r=false,p;function w(y,z){y._canContinue=false;z.then(function(){y.h=a(y.c,y.h);y._canContinue=true;s()})}function s(A){while(!r){try{r=!r;if(t){t(n.makeArray(v.h||v.c))}if(v._canContinue==false){return A}if(!v.f.g){if(!u.length){return v.c}var y=u[0].i&&u[0].i(s,v,u)||v;if(y==v){return A}v=y;continue}p=v.c[v.f.g]||l[v.f.g];if(!p){throw'no such method "'+v.f.g+'" on object ('+v.c+")"}if(p.timing&&!v._canContinue){v._canContinue=false;v=p.timing(s,v,u,t)||v}else{if(!p.timing&&!v._canContinue){v.h=v.c[v.f.g].apply(v.c,v.f.a);if(u.length&&v.h instanceof g){w(v,v.h);continue}}y={c:v.h,f:v.f.h};v._canContinue=false;if(typeof v.b=="function"){v.b.apply(v.c,b(u))}v=y}}catch(z){r=!r;throw z}finally{r=!r}}}return s}function g(r,s,q){this[".methods"]=s;this[".callback"]=q;this._=r._=r;this.length=0;Array.prototype.push.apply(this,n.makeArray(r));for(var p in r){if(!(p in g.prototype)&&typeof r[p]=="function"){this[p]=h(p)}}}function h(p){return g.prototype[p]=function(){this[".methods"].g=p;this[".methods"].a=arguments;this[".methods"]=this[".methods"].h={};return this[".callback"]?this[".callback"](this,p,arguments):this}}n.each(["bind","on","one","live","delegate"],function(q,p){if(n.fn[p]){var r=n.fn[p];n.fn[p]=function(){var t,v,u,s;for(t=0;t<arguments.length;t++){if(typeof arguments[t]=="function"||(arguments[t]&&typeof arguments[t]=="object")||arguments[t]===false){if(arguments[t]!==n){if(typeof arguments[t]=="function"&&n.guid){arguments[t].guid=arguments[t].guid||n.guid++}return r.apply(this,arguments)}break}}Array.prototype.splice.call(arguments,t,1,function(w){s=f(n(this),v,[{d:w}],function(x){u.length=0;Array.prototype.push.apply(u,x)});return s()});return u=new g(r.apply(this,arguments),v={},function(){return s?s(u):u})}}});n.fn.animate=function(){if(arguments[arguments.length-1]===n){var p="_timing"+d++;arguments[arguments.length-1]=function(){n(this).trigger(p)};return this.each().one(p).all(i.apply(this,arguments))}return i.apply(this,arguments)};n.each(["wait","repeat","join","then"],function(q,p){n.fn[p]=function(){var s={},r=new g(this,s,f(this,s,[],function(t){r.length=0;Array.prototype.push.apply(r,t)}));return r[p].apply(r,arguments)}});n.fn.join.timing=function(p,r){var q,s=r.c.length;if(typeof r.f.a[0]=="function"){r.b=r.f.a[0]}else{q=r.f.a[0];r.b=r.f.a[1]}r.c.queue(q==null?"fx":q,function(t){r._canContinue=!--s;r.h=r.c;p();t()})};n.fn.then.timing=function(p,q){q.b=q.f.a[0];q.h=q.c;q._canContinue=true};n.fn.wait.timing=function(r,v){var q,t,u;if(typeof v.f.a[0]=="function"){v.b=v.f.a[0]}else{q=v.f.a[0];v.b=v.f.a[1]}function p(){o.call(t?o.call(v.c,t,p):v.c,"__unwait__",s);v._canContinue=true;r()}function s(){o.call(t?o.call(n(this),t,p):n(this),"__unwait__",s);v.h=v.c=v.c.not(this);v._canContinue=v.c.length&&v._canContinue;j.clearTimeout(!v.c.length&&u);r()}if(typeof q=="string"){k.call(v.c,t=q,p)}else{u=j.setTimeout(p,Math.max(0,q))}k.call(v.c,"__unwait__",s);v.h=v.c};n.fn.each=function(r){if(!r||r===n){var q={},p=new g(this,q,f(this,q,[],function(s){p.length=0;Array.prototype.push.apply(p,s)}));return p.each()}return e.apply(this,arguments)};n.fn.each.timing=function(q,t,u,s){if(t.f.a[0]&&t.f.a[0]!==n){t._canContinue=true;t.h=e.apply(t.c,t.fs.a);return}var A=t.c.length,z=A,w,r,y=[],x=[],v={};function p(){for(var B=0;B<A;B++){(y[B])()}return v}for(w in g.prototype){v[w]=p}v.length=A;t.c.each(function(B){var C=u.slice();x[B]=[v[B]=this];C.unshift({d:B,_allAction:function(D){if(!--z){r=D.f.h;q()}},_fixOpenLoop:l.all});y[B]=f(n(this),t.f.h,C,function(E){x[B]=E;v.length=0;for(var D=0;D<A;D++){Array.prototype.push.apply(v,x[D])}if(s){s(n.makeArray(v))}})});t.h=v;t._canContinue=true;t.i=function(){if(!z){u.shift();return{c:a(t.c,v),f:r}}};t.d=A;u.unshift(t)};l.all=function(p){n.extend(p.f,{h:n.extend({},p.f),g:"all",a:[]});p._canContinue=null};l.all.timing=function(p,r,q){if(!q.length||!q[0]._fixOpenLoop){throw".all() method must be used after .each() only"}if(!q[0]._allAction){q[0]._fixOpenLoop(r);return}q[0]._allAction(r)};n.fn.repeat.timing=function(t,w,x){var r,u,v,p,q;if(typeof w.f.a[0]=="function"){w.b=w.f.a[0]}else{if(typeof w.f.a[1]=="function"){r=w.f.a[0];w.b=w.f.a[1]}else{r=w.f.a[0];u=w.f.a[1];w.b=w.f.a[2]}}function y(){w.h=w.h||w.c;w._canContinue=true;t()}function s(){o.call(p?o.call(n(this),p,y):n(this),"__unrepeat__",s);var z=w.c.not(this);w.h=(w.h==w.c)?z:w.h;w.c=z;w._canContinue=w.c.length&&w._canContinue;r=w.c.length&&r;j.clearInterval(!w.c.length&&q);t()}w.i=function(){if(w._canContinue||v){w.d++;w.h=w.h||w.c;w._canContinue=w._canContinue||r;return w}};if(r==null){u=r=true;j.setTimeout(function(){v=true;t()},0)}else{if(typeof r=="string"){k.call(w.c,p=r,y)}else{q=j.setInterval(y,Math.max(0,r))}r=false}k.call(w.c,"__unrepeat__",s);w.h=w.c;w.d=0;w.l=function(z,A){if(z){s.apply(w.c)}if(r){y()}};w._fixOpenLoop=l.until;if(u){y()}x.unshift(w)};l.until=function(p){n.extend(p.f,{h:n.extend({},p.f),g:"until",a:[false]});p._canContinue=null};l.until.timing=function(p,s,r){if(!r.length||!r[0]._fixOpenLoop){throw".until() method must be used after .repeat() only"}if(!r[0].l){r[0]._fixOpenLoop(s);return}var t=s.f.a[0],q=s.f.a[1];if(typeof t=="function"){t=t.apply(s.c,b(r))}if(t==null){t=!s.c.size()}if(typeof t=="object"){t=t.toString()}if(typeof t=="number"){t=r[0].d>=t-1}if(t){s._canContinue=true;s.h=s.c;r.shift().l(t)}else{if(q){r[0].h=s.c}s=r[0];s.d++;s.l(t);return s}};new g(l);n.each(["unwait","unrepeat"],function(q,p){n.fn[p]=function(){return this.trigger("__"+p+"__")}});n.each(["wait","repeat","join","then","unwait","unrepeat"],function(q,p){n[p]=function(){var r=typeof arguments[0]=="string"?Array.prototype.shift.apply(arguments):"";return n.fn[p].apply(c[r]=(c[r]||n("<div>").text(r)),arguments)}});function m(s,v,r){if(typeof s=="string"){r=new Function("x","return ["+s+"\n,x]");s=function(y,w){w=r(y);q.x=w[1];return w[0]}}var p=typeof v=="function",u=typeof s=="function",q=function(w){if(arguments.length==1){q.x=w;if(p){v(w)}}else{return t()}};function t(w){w=p?v():q.x;return u?s(w):w}q.x=0;q._={toString:q.$=q.toString=t.toString=t};q.mod=function(w){return m(function(y){return y%w},q)};q.add=function(w){return m(function(y){return y+w},q)};q.neg=function(){return m("-x",q)};q.$$=function(w){return m(w,q)};n.each("abcdefghij",function(w,x){q[w]=q[x]=function(){q(arguments[w])}});return q}n.$$=j.$$=n.X=m;n.fn.$=function(){var p=n.apply(j,arguments);p.prevObject=this;return p}})(jQuery,window);