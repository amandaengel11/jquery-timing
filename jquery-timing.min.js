(function(n,k){var d={},e=1,f=n.fn.each,l=n.fn.on||n.fn.bind,o=n.fn.off||n.fn.unbind,j=n.fn.animate,m={};function a(q,r){r=n(r);r.prevObject=q;var p=q.length;if(p!==r.length){return r}while(p--){if(q[p]!==r[p]){return r}}return q}function c(p){var q=[],r=p.length;while(r--){q[r]=p[r].f}return q}function g(q,x,u,t){u=u||[];var v={e:q,h:x},r=false,p,y;function w(z,A){z.d=false;A.then(function(){z.j=a(z.e,z.j);z.d=true;s()},true)}function s(A){while(!r){try{r=!r;if(typeof t=="function"){t(n.makeArray(v.j||v.e))}if(v.d==false){return A}if(!v.h.i){if(!u.length){return v.e}y=u[0].k&&u[0].k(s,v,u);if(!y){return A}v=y;continue}p=v.e[v.h.i]||m[v.h.i];if(!p){throw'no such method "'+v.h.i+'" on object ('+v.e+")"}if(p.timing&&!v.d){v.d=false;v=p.timing(s,v,u,t)||v}else{if(!p.timing&&!v.d){v.j=v.e[v.h.i].apply(v.e,v.h.b);if(u.length&&v.j instanceof h){w(v,v.j);continue}}y={e:v.j,h:v.h.j};v.d=false;if(typeof v.c=="function"){v.c.apply(v.e,c(u))}v=y}}catch(z){r=!r;throw z}finally{r=!r}}}return s}function h(r,s,q){this[".methods"]=s;this[".callback"]=q;this.length=0;Array.prototype.push.apply(this,n.makeArray(this._=r._=r));for(var p in r){if(!(p in h.prototype)&&typeof r[p]=="function"){this[p]=i(p)}}}function i(p){return h.prototype[p]=function(){this[".methods"].i=p;this[".methods"].b=arguments;this[".methods"]=this[".methods"].j={};return this[".callback"]?this[".callback"](this,p,arguments):this}}n.each(["bind","on","one","live","delegate"],function(q,p){if(n.fn[p]){var r=n.fn[p];n.fn[p]=function(){var t,v,u,s;for(t=0;t<arguments.length;t++){if(typeof arguments[t]=="function"||(arguments[t]&&typeof arguments[t]=="object")||arguments[t]===false){if(arguments[t]!==n){if(typeof arguments[t]=="function"&&n.guid){arguments[t].guid=arguments[t].guid||n.guid++}return r.apply(this,arguments)}break}}Array.prototype.splice.call(arguments,t,1,function(){s=g(n(this),v,[{f:n.extend(Array.prototype.shift.apply(arguments),arguments)}],function(w){u.length=0;Array.prototype.push.apply(u,w)});return s()});return u=new h(r.apply(this,arguments),v={},function(){return s?s(u):u})}}});n.fn.animate=function(){while(arguments.length&&arguments[arguments.length-1]==null){Array.prototype.pop.apply(arguments)}if(this.length&&arguments[arguments.length-1]===n){var p="_timing"+e++;arguments[arguments.length-1]=function(){n(this).trigger(p)};return this.each().one(p).all(j.apply(this,arguments))}return j.apply(this,arguments)};n.each(["wait","repeat","join","then"],function(q,p){n.fn[p]=function(){var s={},r=new h(this,s,g(this,s,[],function(t){r.length=0;Array.prototype.push.apply(r,t)}));return r[p].apply(r,arguments)}});n.fn.join.timing=function(p,r){var q,s=r.e.length;if(typeof r.h.b[0]=="function"){r.c=r.h.b[0]}else{q=r.h.b[0];r.c=r.h.b[1]}r.e.queue(q==null?"fx":q,function(t){r.d=!--s;p();t()});r.j=r.e;r.d=!s};n.fn.then.timing=function(p,q){q.c=q.h.b[0];q.j=q.e;q.d=true;if(q.h.b[1]){Array.prototype.shift.apply(q.h.b)}};n.fn.wait.timing=function(r,v){var q,t,u;if(typeof v.h.b[0]=="function"){v.c=v.h.b[0]}else{q=v.h.b[0];v.c=v.h.b[1]}function p(){o.call(t?o.call(v.e,t,p):v.e,"unwait",s);v.d=true;r()}function s(){o.call(t?o.call(n(this),t,p):n(this),"unwait",s);v.j=v.e=v.e.not(this);v.d=v.e.length&&v.d;k.clearTimeout(!v.e.length&&u);r()}if(typeof q=="string"){l.call(v.e,t=q,p)}else{u=k.setTimeout(p,Math.max(0,q))}l.call(v.e,"unwait",s);v.j=v.e};n.fn.each=function(r){if(!r||r===n){var q={},p=new h(this,q,g(this,q,[],function(s){p.length=0;Array.prototype.push.apply(p,s)}));return p.each(r)}return f.apply(this,arguments)};n.fn.each.timing=function(s,v,w,u){if(v.h.b[0]&&v.h.b[0]!==n){v.d=true;v.j=f.apply(v.e,v.hs.b);return}var B=v.e.length,q=0,y,t,A=[],z=[],x={},r=v.h.b[0]===n;function p(){if(r&&q<B){(A[q])()}else{for(var C=0;C<B;C++){(A[C])()}}return x}for(y in h.prototype){x[y]=p}x.length=B;v.e.each(function(C){var D=w.slice();z[C]=[x[C]=this];D.unshift({f:C,a:function(E){q++;if(q==B){t=E.h.j}s()},g:m.all});A[C]=g(n(this),v.h.j,D,function(F){z[C]=F;x.length=0;for(var E=0;E<B;E++){Array.prototype.push.apply(x,z[E])}if(u){u(n.makeArray(x))}})});v.j=x;v.d=true;v.k=function(E,D){if(q==B){w.shift();return{e:a(v.e,x),h:t}}var C=q;p();if(q!=C){return D}};v.f=B;w.unshift(v)};m.all=function(p){n.extend(p.h,{j:n.extend({},p.h),i:"all",b:[]});p.d=null};m.all.timing=function(p,r,q){if(!q.length||!q[0].g){throw".all() method must be used after .each() only"}if(!q[0].a){q[0].g(r);return}q[0].a(r)};n.fn.repeat.timing=function(t,w,x){var r,u,v,p,q;if(typeof w.h.b[0]=="function"){w.c=w.h.b[0]}else{if(typeof w.h.b[1]=="function"){r=w.h.b[0];w.c=w.h.b[1]}else{r=w.h.b[0];u=w.h.b[1];w.c=w.h.b[2]}}function y(){w.j=w.j||w.e;w.d=true;t()}function s(){o.call(p?o.call(n(this),p,y):n(this),"unrepeat",s);var z=w.e.not(this);w.j=(w.j==w.e)?z:w.j;w.e=z;w.d=w.e.length&&w.d;r=w.e.length&&r;k.clearInterval(!w.e.length&&q);t()}w.k=function(A,z){if(w.d||v){w.f++;w.j=w.j||w.e;w.d=w.d||(r&&z.e&&z.e.length);return w}};if(r==null){u=r=true;k.setTimeout(function(){v=true;t()},0)}else{if(typeof r=="string"){l.call(w.e,p=r,y)}else{q=k.setInterval(y,Math.max(0,r))}r=false}l.call(w.e,"unrepeat",s);w.j=w.e;w.f=0;w.m=function(z){if(z){s.apply(w.e)}if(r){y()}};w.g=m.until;if(u){y()}x.unshift(w)};m.until=function(p){n.extend(p.h,{j:n.extend({},p.h),i:"until",b:[]});p.d=null};m.until.timing=function(p,s,r){if(!r.length||!r[0].g){throw".until() method must be used after .repeat() only"}if(!r[0].m){r[0].g(s);return}var t=s.h.b[0],q=s.h.b[1];if(t===n){t=null;q=s.h.b.length<=1||q}if(typeof t=="function"){t=t.apply(s.e,c(r))}if(t==null){t=!s.e.size()}if(typeof t=="object"){t=t.toString()}if(typeof t=="number"){t=r[0].f>=t-1}if(t){s.d=true;s.j=s.e;r.shift().m(t)}else{if(q){r[0].j=s.e}s=r[0];s.f++;s.m(t);return s}};new h(m);n.each(["unwait","unrepeat"],function(q,p){n.fn[p]=function(){return this.trigger(p)}});n.each(["wait","repeat","join","then","unwait","unrepeat"],function(q,p){n[p]=function(){var r=typeof arguments[0]=="string"?Array.prototype.shift.apply(arguments):"";return n.fn[p].apply(d[r]=(d[r]||n("<div>").text(r)),arguments)}});function b(s,v,r){if(typeof s=="string"){r=new Function("x","return ["+s+"\n,x]");s=function(y,w){w=r(y);q.x=w[1];return w[0]}}var p=typeof v=="function",u=typeof s=="function",q=function(w){if(arguments.length==1){q.x=w;if(p){v(w)}}else{return t()}};function t(w){w=p?v():q.x;return u?s(w):w}q.x=0;q._={toString:q.$=q.toString=t.toString=t};q.mod=function(w){return b(function(y){return y%w},q)};q.add=function(w){return b(function(y){return y+w},q)};q.neg=function(){return b("-x",q)};q.X=function(w){return b(w,q)};n.each("abcdefghij",function(w,x){q[w]=q[x]=function(){q(arguments[w])}});return q}n.X=b;n.fn.$=function(){var p=n.apply(k,arguments);p.prevObject=this;return p}})(jQuery,window);