(function(f,l){var C="__timeouts",G="__intervals",v="string",I=undefined,u="fx",E={},c=l.setTimeout,d=l.clearTimeout,a=l.setInterval,t=l.clearInterval;function o(J){return typeof J=="object"}function b(J){return typeof J=="function"}function s(J){return typeof J=="string"}function w(J){return typeof J=="number"}function j(L,K){L=L||[];for(var J=0;J<L.length;J++){if(L[J]===K){if(J<L.length-1){L[J]=L.pop();J--}else{L.pop()}}}return L}function B(K,J){K=K||[];K.push(J);return K}function k(K,P,M){var L={_isChainEnd:true},J={h:L,c:K,_methodName:P,_methodArguments:M},O={_activeExecutionPoint:J,_ongoingLoops:[],_openEndLoopTimeout:c(function(){O._openEndLoopTimeout=false;if(O._activeExecutionPoint._isChainEnd){var Q=O._ongoingLoops.shift();if(Q){O._activeExecutionPoint=Q;p(O)}}},0)},N={};for(key in K){if(b(K[key])){(function(Q){N[Q]=function(){J=J.h={h:L,c:L.c,_methodName:Q,_methodArguments:arguments};if(O._activeExecutionPoint._isChainEnd){O._activeExecutionPoint=J;p(O)}return N}})(key)}}p(O);return N}function p(M,O){if(O){O._trigger._isTriggered=true;if(M._activeExecutionPoint!=O){return}}for(var L,K,N,J;L=M._activeExecutionPoint;){if(L._isChainEnd){if(M._ongoingLoops[0]&&!M._openEndLoopTimeout){M._activeExecutionPoint=M._ongoingLoops.shift();continue}break}J=L._trigger;if(J){if(J._isInterrupted){break}if(J._isTriggered){A(M)}else{J._isWaiting=true;break}}K=L.c;N=K[L._methodName];if(N==z){((J&&J._isTriggered)?h:n)(M,L)}else{if(N==x){((J&&J._isTriggered)?y:D)(M,L)}else{if(N==F){L.b=L._methodArguments[0];A(M)}else{if(N==m){A(M)}else{if(N==e){A(M)}else{K=N.apply(K,L._methodArguments);A(M)}}}}}M._activeExecutionPoint.c=K}}function A(L,K){K=L._activeExecutionPoint;if(b(K.b)){var J=[];K.b.apply(K.c,J)}L._activeExecutionPoint=K.h}function n(M,L,K){function J(){p(M,L)}if(b(L._methodArguments[0])){L.b=L._methodArguments[0]}else{K=L._methodArguments[0];L.b=L._methodArguments[1]}L._trigger=s(K)?{_type:"event",_action:J,c:L.c.bind(K,J),_value:K}:{_type:"timeout",_action:J,_value:c(J,Math.max(0,K))};L.c.each(function(N,O){f(O).data(C,B(f(O).data(C),L._trigger))})}function r(J){if(J._type=="event"){J.c.unbind(J._value,J._action)}else{d(J._value)}J._isInterrupted=true}function h(K,J){r(J._trigger);J.c.each(function(L,M){f(M).data(C,j(f(M).data(C),J._trigger))});J._trigger=I}function D(L,K,J){if(b(K._methodArguments[0])){K.b=K._methodArguments[0]}else{J=K._methodArguments[0];K.b=K._methodArguments[1]}J=J==I?u:J;K._trigger={_type:"join",_value:J};K.c.queue(function(M){p(L,K);M()})}function y(K,J){J._trigger=I}function z(){return k(this,"wait",arguments)}function H(){return this.each(function(J){J=f(this).data(C);while(J&&J.length){r(J.pop())}})}function m(){return k(this,"repeat",arguments)}function g(){return this}function e(){throw".until() method must be used after .repeat() only"}function F(J){J.apply(this);return this}function x(){return k(this,"join",arguments)}function i(J,L,K){if(s(J)){Array.prototype.shift.apply(K)}else{J=""}return L.apply(E[J]=(E[J]||f("<div>").text(J)),K)}f.fn.extend({wait:z,unwait:H,repeat:m,unrepeat:g,until:e,then:F,join:x,$:f});f.extend({wait:function(J){return i(J,z,arguments)},unwait:function(J){return i(J,H,arguments)},repeat:function(J){return i(J,m,arguments)},unrepeat:function(J){return i(J,g,arguments)},then:function(J){return i(J,F,arguments)},join:function(J){return i(J,x,arguments)}});function q(M,K){if(typeof M==v){M=new Function("x","return "+M)}var J=b(K),N=b(M),L=function(O){if(arguments.length){L.value=O;if(J){K(O)}}return L.toString()};L.toString=function(){var O=J?K():L.value;return N?M(O):O};L.$={toString:L.toString};L.mod=function(O){return q(function(P){return P%O},L)};L.plus=function(O){return q(function(P){return P+O},L)};L.neg=function(){return q(function(O){return -O},L)};return L}l.$$=q})(jQuery,window);