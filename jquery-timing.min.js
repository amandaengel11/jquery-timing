(function(e,j){var u="__timeouts",x="__intervals",p="string",z=undefined,o="fx",v={},c=j.setTimeout,a=j.setInterval;function l(A){return typeof A=="object"}function b(A){return typeof A=="function"}function n(A){return typeof A=="string"}function q(A){return typeof A=="number"}function h(C,B){C=C||[];for(var A=0;A<C.length;A++){if(C[A]===B){if(A<C.length-1){C[A]=C.pop();A--}else{C.pop()}}}return C}function t(B,A){B=B||[];B.push(A);return B}function i(B,G,D){var C={_isChainEnd:true},A={h:C,c:B,_method:G,_arguments:D},F={_activeExecutionPoint:A,_ongoingLoops:[],_openEndLoopTimeout:c(function(){F._openEndLoopTimeout=false;if(F._activeExecutionPoint._isChainEnd){var H=F._ongoingLoops.pop();if(H){F._activeExecutionPoint=H;if(H.hIterationAllowedNow){invokeTIC(F)}}}},0)},E={};for(key in B){if(b(B[key])){(function(H){E[H]=function(){A=A.h={h:C,_method:H,_arguments:arguments};if(F._activeExecutionPoint._isChainEnd){F._activeExecutionPoint=A;invokeTIC(F)}return this}})(key)}}invokeTIC(F);return E}function s(C,B,A){return i(this).wait(C,B,A)}function y(C,B,A){return i(this).unwait(C,B,A)}function k(C,B,A){return i(this).repeat(C,B,A)}function f(C,B,A){return i(this).unrepeat(C,B,A)}function d(C,B,A){return i(this).until(C,B,A)}function w(C,B,A){return i(this).then(C,B,A)}function r(C,B,A){return i(this).join(C,B,A)}function g(A,C,B){if(typeof A==p){Array.prototype.shift.apply(B)}else{A=""}return C.apply(v[A]=(v[A]||e("<div>")),B)}e.fn.extend({wait:s,unwait:y,repeat:k,unrepeat:f,until:d,then:w,join:r,$:e});e.extend({wait:function(A){return g(A,s,arguments)},unwait:function(A){return g(A,y,arguments)},repeat:function(A){return g(A,k,arguments)},unrepeat:function(A){return g(A,f,arguments)},then:function(A){return g(A,w,arguments)},join:function(A){return g(A,r,arguments)}});function m(D,B){if(typeof D==p){D=new Function("x","return "+D)}var A=b(B),E=b(D),C=function(F){if(arguments.length){C.value=F;if(A){B(F)}}return C.toString()};C.toString=function(){var F=A?B():C.value;return E?D(F):F};C.$={toString:C.toString};C.mod=function(F){return m(function(G){return G%F},C)};C.plus=function(F){return m(function(G){return G+F},C)};C.neg=function(){return m(function(F){return -F},C)};return C}j.$$=m})(jQuery,window);